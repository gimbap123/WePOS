<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
   "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
   
<mapper namespace="com.wepos.common.dao.ShopDao">

  <!-- 검색한 매장 리스트 --> 
  <select id="findShopList" parameterType="String" resultType="ShopDto">
    select * from shop
    where shop_name like '%' || #{shopName, jdbcType=VARCHAR} || '%'
    order by shop_code
  </select>
 
  <!-- 검색된 매장 갯수 --> 
  <select id="findShopCount" parameterType="String" resultType="Integer">
    select count(shop_name) from shop
    where shop_name like '%' || #{shopName, jdbcType=VARCHAR} || '%'
  </select>
 
  <!-- 총 매장 갯수 --> 
  <select id="allShopCount" resultType="int">
    select count(*) from shop
  </select>
</mapper>
